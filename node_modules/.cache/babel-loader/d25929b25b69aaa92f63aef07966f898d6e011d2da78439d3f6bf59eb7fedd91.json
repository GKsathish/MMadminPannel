{"ast":null,"code":"import _regeneratorRuntime from\"/home/sathish/Desktop/Assignment/react-mm-admin-pannel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sathish/Desktop/Assignment/react-mm-admin-pannel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sathish/Desktop/Assignment/react-mm-admin-pannel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useAuth}from'../../Context/AuthContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useAuth=useAuth(),login=_useAuth.login,username1=_useAuth.username1;var Navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var apiEndpoint,loginData,response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();apiEndpoint='http://172.22.9.59:3036/login';loginData={username:username,password:password};_context.prev=3;_context.next=6;return fetch(apiEndpoint,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(loginData)});case 6:response=_context.sent;if(response.ok){_context.next=9;break;}throw new Error(\"HTTP error! status: \".concat(response.status));case 9:_context.next=11;return response.json();case 11:result=_context.sent;console.log('Login successful:',result);login();username1(username);Navigate('/dashboard');_context.next=23;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](3);console.error('Error during login:',_context.t0);// alert(`Login failed: ${error.message}`);\nlogin();Navigate('/dashboard');case 23:case\"end\":return _context.stop();}},_callee,null,[[3,18]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\"ftco-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex flex-column justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 text-center mt-5 mb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./MMLogo3.png\",alt:\"image\",style:{height:'50px',width:'250px'}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center align-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5 col-lg-5 col-xl-5 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrap p-5 p-md-5\",style:{boxShadow:'rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px'},children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-center\",children:\"Welcome back!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"m-1\",children:\"User Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-left\",placeholder:\"username\",name:\"username\",onChange:function onChange(e){return setUsername(e.target.value);},value:username,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"m-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control rounded-left\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group d-md-flex justify-content-between m-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"}),/*#__PURE__*/_jsx(\"label\",{className:\"checkbox-wrap checkbox-primary p-2\",children:\"Remember Me\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded px-4 py-1 loginbtn\",children:\"Log In\"})]})]})]})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center m-1 p-4\",children:\"\\xA9 2023 Mobile Masala\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","useAuth","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useAuth","login","username1","Navigate","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","apiEndpoint","loginData","response","result","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","ok","Error","concat","status","json","console","log","t0","error","stop","_x","apply","arguments","className","children","src","alt","style","height","width","boxShadow","onSubmit","htmlFor","type","placeholder","name","onChange","e","target","value","required"],"sources":["/home/sathish/Desktop/Assignment/react-mm-admin-pannel/src/Components/Login/Login.jsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { useAuth } from '../../Context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const { login,username1 } = useAuth();\nconst Navigate= useNavigate()\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const apiEndpoint = 'http://172.22.9.59:3036/login';\n    const loginData = { username, password };\n\n    try {\n      const response = await fetch(apiEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(loginData),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log('Login successful:', result);\n      login();\n      username1(username);\n      Navigate ('/dashboard');\n    } catch (error) {\n      console.error('Error during login:', error);\n      // alert(`Login failed: ${error.message}`);\n      login();\n  \n\n      Navigate ('/dashboard');\n    }\n  };\n\n  return (\n    <section className=\"ftco-section\">\n      <div className=\"container\">\n        <div className=\"row d-flex flex-column justify-content-center align-items-center\">\n          <div className=\"col-md-6 text-center mt-5 mb-3\">\n            <img\n              src=\"./MMLogo3.png\"\n              alt=\"image\"\n              style={{ height: '50px', width: '250px' }}\n            />\n          </div>\n        </div>\n        <div className=\"row justify-content-center align-content-center\">\n          <div className=\"col-md-5 col-lg-5 col-xl-5 col-12\">\n            <div\n              className=\"login-wrap p-5 p-md-5\"\n              style={{\n                boxShadow:\n                  'rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px',\n              }}\n            >\n              <h6 className=\"text-center\">Welcome back!</h6>\n              <form onSubmit={handleSubmit} className=\"login-form\">\n                <div className=\"form-group m-3\">\n                  <label htmlFor=\"username\" className=\"m-1\">\n                    User Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control rounded-left\"\n                    placeholder=\"username\"\n                    name=\"username\"\n                    onChange={(e) => setUsername(e.target.value)}\n                    value={username}\n                    required\n                  />\n                </div>\n                <div className=\"form-group m-3\">\n                  <label htmlFor=\"password\" className=\"m-1\">\n                    Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"form-control rounded-left\"\n                    placeholder=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                <div className=\"form-group d-md-flex justify-content-between m-3\">\n                  <div>\n                    <input type=\"checkbox\" />\n                    <span className=\"checkmark\"></span>\n                    <label className=\"checkbox-wrap checkbox-primary p-2\">\n                      Remember Me\n                    </label>\n                  </div>\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-primary rounded px-4 py-1 loginbtn\"\n                  >\n                    Log In\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n        <p className=\"text-center m-1 p-4\">Â© 2023 Mobile Masala</p>\n      </div>\n    </section>\n  );\n};\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}